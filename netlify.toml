# netlify.toml
[build]
  command   = "npm run build"
  publish   = "dist"

# 1. Redirect /admin to /admin/ (trailing slash)
[[redirects]]
  from    = "/admin"
  to      = "/admin/"
  status  = 301

# 2. Let the CMS config file through unaltered
[[redirects]]
  from    = "/admin/config.yml"
  to      = "/admin/config.yml"
  status  = 200

# 3. Everything else under /admin/* â†’ your SPA entrypoint
[[redirects]]
  from    = "/admin/*"
  to      = "/admin/index.html"
  status  = 200