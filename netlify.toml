# netlify.toml
[build]
  command = "npm run build"
  publish = "dist"

# 1️⃣ Redirect exact /admin → /admin/ (so trailing slash)
[[redirects]]
  from   = "/admin"
  to     = "/admin/"
  status = 301
  force  = true

# 2️⃣ Let your CMS configuration file load normally
#    (must come before the catch-all)
[[redirects]]
  from   = "/admin/config.yml"
  to     = "/admin/config.yml"
  status = 200

# 3️⃣ Everything else under /admin goes to your SPA shell
[[redirects]]
  from   = "/admin/*"
  to     = "/admin/index.html"
  status = 200
  force  = true